{
  "type": "step_based",
  "name": "Score Data",
  "active": false,
  "runAsUser": "thinhprovc202@gmail.com",
  "checklists": {
    "checklists": []
  },
  "delayedTriggersBehavior": {
    "delayWhileRunning": true,
    "squashDelayedTriggers": true,
    "suppressTriggersWhileRunning": true
  },
  "tags": [],
  "triggers": [
    {
      "id": "LjOVe8sa",
      "type": "temporal",
      "name": "Weekly",
      "delay": 5,
      "active": true,
      "params": {
        "repeatFrequency": 1,
        "frequency": "Weekly",
        "startingFrom": "2023-07-01",
        "daysOfWeek": [
          "Sunday"
        ],
        "minute": 0,
        "hour": 2,
        "timezone": "SERVER",
        "lastUpdate": 1728442446913
      }
    }
  ],
  "reporters": [],
  "params": {
    "steps": [
      {
        "id": "build_0_true_d_test_scored",
        "type": "build_flowitem",
        "name": "Build downstream",
        "runConditionType": "RUN_IF_STATUS_MATCH",
        "runConditionStatuses": [
          "SUCCESS",
          "WARNING"
        ],
        "runConditionExpression": "",
        "resetScenarioStatus": false,
        "delayBetweenRetries": 10,
        "maxRetriesOnFail": 0,
        "params": {
          "builds": [
            {
              "type": "DATASET",
              "itemId": "test_scored",
              "partitionsSpec": ""
            }
          ],
          "jobType": "RECURSIVE_BUILD",
          "autoUpdateSchemaBeforeEachRecipeRun": false,
          "stopAtFlowZoneBoundary": false,
          "refreshHiveMetastore": true,
          "handleWarningsAs": "WARNING",
          "proceedOnFailure": false
        }
      },
      {
        "id": "custom_python_kFhSd5YJ/6ubLNtnvlYZ+Q",
        "type": "custom_python",
        "name": "Step #2",
        "runConditionType": "RUN_IF_STATUS_MATCH",
        "runConditionStatuses": [
          "SUCCESS",
          "WARNING"
        ],
        "runConditionExpression": "",
        "resetScenarioStatus": false,
        "delayBetweenRetries": 10,
        "maxRetriesOnFail": 0,
        "params": {
          "script": "from dataiku.scenario import Scenario, BuildFlowItemsStepDefHelper\nimport dataiku\n\n# Lấy danh sách tất cả các project\nclient \u003d dataiku.api_client()\nz \u003d client.list_projects()\n# Handling our scenario.\nfor i in range(2):\n    s \u003d Scenario()\n\n    # Get the trigger type\n    trigger_type \u003d s.get_trigger_type()\n    # trigger_var is now the name of the variable across the scenario\n    # and can be changed at your convenience.\n    s.set_scenario_variables(trigger_var \u003d trigger_type)\n    # Khởi tạo bước xây dựng\n    step \u003d BuildFlowItemsStepDefHelper(\"Data Preparation\")\n    step.add_dataset(\"job_postings_prepared\", z[4])\n    step.add_dataset(\"job_postings_python\", z[4])\n\n    # Chạy bước này\n    s.run_step(step.get_step())\n\n",
          "envSelection": {
            "envMode": "INHERIT"
          },
          "proceedOnFailure": false
        }
      }
    ]
  },
  "automationLocal": false,
  "customFields": {},
  "markedAsTest": false
}